<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>A Card-Based Rapid Role Playing Game</title>
  <link rel="stylesheet" href="style.css" />
  <style>
    #marketingSection {
      width: 100%;
      height: 50px;
      background-color: #000000;
      display: flex;
      justify-content: center;
      align-items: center;
      padding: 0 40px;
    }

    #marketingSection h1 {
      font-size: 16px;
      color: #fff;
      text-align: center;
      font-weight: bold;
      letter-spacing: 1px;
      text-shadow: 0 2px 4px rgba(0, 0, 0, 0.5);
    }
  </style>
</head>
<body>
  <!-- Setup screen -->
  <div id="setup" style="display: flex;">
    <div id="bannerSection"></div>
    <div id="marketingSection">
      <h1>A Story Prompt RPG Card Game by Clara J. Thorne</h1>
    </div>
    <div id="menuContent">
      <!-- Left Column - Player Setup -->
      <div class="menu-column" id="playerSetup">
        <h2>Player Setup</h2>
        <div class="menu-section">
          <div class="scrollable-text-wrapper">
            <div class="scrollable-text">
              <p>No one really knows why it happens. Some people just wake up one morning, shower and brush teeth, and discover later that day there's a wraith in their coffee shop or a winged fairy at their grocery store. That's if they're lucky. More typically, fresh abductees find themselves nose-to-teeth with something ghastly just before spewing magic in self-defense. For the ones that make it through that first encounter, this story is too common to be coincidence.</p>
              <p>The normals never see the Obscura. Sure, they'll see you. Talk to you. They might even witness you flinging your arms and yelling fully deranged nonsense. But when you're gushing blood from a sudden rent in your gut, the normals forget you're even there. And after you finally kick it, the normals step over your corpse, move their grocery store carts around whatever is left of you, have no recognition you were dismembered in the dairy section and drained of blood like squeezable yogurt.</p> 
              <p>They'll never see you, never help you. And the predators of the Obscura flow around them like cars dodging a couch on the freeway. It's maddening.</p> 
              <p>As for the why? Entire books have been written on this subject. That is to say, no one fucking knows. But if you ask me, it has something to do with the predators. Some of our oldest survivors call them the Soul Sworn.</p> 
              <p>That's the part we try not to think about, honestly. Those monsters used to be us, which is maybe not so hard to believe. This place… does something to you. Breaks your spirit. And then the praying begins. To gods, to devils, to something else… When you're tired of living in fear but you've seen what happens to the dead, you'll swear fealty to anyone or anything that might reprieve your misery. You'll even swear on your soul.</p>
              <p>Yeah, sorry. I don't mean to be a downer, but there's no point to covering shit in sugar. There's still beauty in the world, and humor and love. And yes, death was coming for all of us anyway, but if it was <em>only</em> death, we wouldn't be having this conversation.</p>      
              <p>Do yourself a favor. Come up with an exit strategy today, right now. And surround yourself with people that aren't afraid to pull the trigger. Because if you think you're different, that you'll be the exception, that you're the ultimate survivor, you won't be. You'll end up soul sworn like the rest of the hopeful, and your friends will put a bullet through your head anyway.</p>
            </div>
          </div>
          
          <!-- Player 1 setup -->
          <div class="player-setup-container" id="player1Setup">
            <h3>Player 1 (Dealer)</h3>
            <div class="form-group">
              <label for="player1Name">Name:</label>
              <input type="text" id="player1Name" placeholder="Enter player name">
            </div>
            <div class="form-group">
              <label for="player1Character">Character:</label>
              <select id="player1Character">
                <option value="">Select a character...</option>
              </select>
            </div>
          </div>
          
          <!-- Player 2 setup -->
          <div class="player-setup-container" id="player2Setup">
            <h3>Player 2</h3>
            <div class="form-group">
              <label for="player2Name">Name:</label>
              <input type="text" id="player2Name" placeholder="Enter player name">
            </div>
            <div class="form-group">
              <label for="player2Character">Character:</label>
              <select id="player2Character">
                <option value="">Select a character...</option>
              </select>
            </div>
          </div>
          
          <!-- Player 3 setup (initially hidden) -->
          <div class="player-setup-container" id="player3Setup" style="display: none;">
            <h3>Player 3</h3>
            <div class="form-group">
              <label for="player3Name">Name:</label>
              <input type="text" id="player3Name" placeholder="Enter player name">
            </div>
            <div class="form-group">
              <label for="player3Character">Character:</label>
              <select id="player3Character">
                <option value="">Select a character...</option>
              </select>
            </div>
          </div>
          
          <!-- Player 4 setup (initially hidden) -->
          <div class="player-setup-container" id="player4Setup" style="display: none;">
            <h3>Player 4</h3>
            <div class="form-group">
              <label for="player4Name">Name:</label>
              <input type="text" id="player4Name" placeholder="Enter player name">
            </div>
            <div class="form-group">
              <label for="player4Character">Character:</label>
              <select id="player4Character">
                <option value="">Select a character...</option>
              </select>
            </div>
          </div>
          
          <div class="instance-code">
            <label>Instance Code:</label>
            <span id="instanceCode">ABC123</span>
          </div>
          <div class="join-controls">
            <input type="text" id="joinCode" placeholder="Enter code to join">
            <button id="joinBtn">Join Game</button>
          </div>
        </div>
      </div>

      <!-- Center Column - Game Settings -->
      <div class="menu-column" id="gameSettings">
        <h2>Game Settings</h2>
        <div class="menu-section">
          <div class="form-group">
            <label for="playerCount">Number of Players:</label>
            <select id="playerCount">
              <option value="2">2 Players</option>
              <option value="3">3 Players</option>
              <option value="4">4 Players</option>
            </select>
          </div>
          <div class="form-group">
            <label for="objectiveSelect">Select Objective:</label>
            <select id="objectiveSelect">
              <option value="">Select an objective...</option>
            </select>
          </div>
          <div class="form-group">
            <label for="scenesCount">Number of Scenes (3-40):</label>
            <input type="number" id="scenesCount" min="3" max="40" value="10">
          </div>
          <div class="form-group">
            <label>Card Type Deck Selection:</label>
            <div id="deckTypeSelection" class="deck-switch-container">
              <div class="deck-switch-item objective" data-card-type="objective">
                <div class="deck-switch-label">Objective</div>
                <div class="deck-switch-track">
                  <div class="deck-switch-positions">
                    <div class="deck-switch-position none active" data-position="none">None</div>
                    <div class="deck-switch-position alt" data-position="alt">Alt</div>
                  </div>
                  <div class="deck-switch-knob position-none"></div>
                </div>
              </div>
              <div class="deck-switch-item" data-card-type="monster">
                <div class="deck-switch-label">Monster</div>
                <div class="deck-switch-track">
                  <div class="deck-switch-positions">
                    <div class="deck-switch-position main active" data-position="main">Main</div>
                    <div class="deck-switch-position none" data-position="none">None</div>
                    <div class="deck-switch-position alt" data-position="alt">Alt</div>
                  </div>
                  <div class="deck-switch-knob position-main"></div>
                </div>
              </div>
              <div class="deck-switch-item" data-card-type="item">
                <div class="deck-switch-label">Item</div>
                <div class="deck-switch-track">
                  <div class="deck-switch-positions">
                    <div class="deck-switch-position main active" data-position="main">Main</div>
                    <div class="deck-switch-position none" data-position="none">None</div>
                    <div class="deck-switch-position alt" data-position="alt">Alt</div>
                  </div>
                  <div class="deck-switch-knob position-main"></div>
                </div>
              </div>
              <div class="deck-switch-item" data-card-type="location">
                <div class="deck-switch-label">Location</div>
                <div class="deck-switch-track">
                  <div class="deck-switch-positions">
                    <div class="deck-switch-position main active" data-position="main">Main</div>
                    <div class="deck-switch-position none" data-position="none">None</div>
                    <div class="deck-switch-position alt" data-position="alt">Alt</div>
                  </div>
                  <div class="deck-switch-knob position-main"></div>
                </div>
              </div>
              <div class="deck-switch-item" data-card-type="NPC">
                <div class="deck-switch-label">NPC</div>
                <div class="deck-switch-track">
                  <div class="deck-switch-positions">
                    <div class="deck-switch-position main active" data-position="main">Main</div>
                    <div class="deck-switch-position none" data-position="none">None</div>
                    <div class="deck-switch-position alt" data-position="alt">Alt</div>
                  </div>
                  <div class="deck-switch-knob position-main"></div>
                </div>
              </div>
              <div class="deck-switch-item" data-card-type="spell">
                <div class="deck-switch-label">Spell</div>
                <div class="deck-switch-track">
                  <div class="deck-switch-positions">
                    <div class="deck-switch-position main active" data-position="main">Main</div>
                    <div class="deck-switch-position none" data-position="none">None</div>
                    <div class="deck-switch-position alt" data-position="alt">Alt</div>
                  </div>
                  <div class="deck-switch-knob position-main"></div>
                </div>
              </div>
            </div>
            <div class="help-text">Select where each card type should be placed: Main deck, Alternative deck, or excluded (None).</div>
          </div>
          <div class="form-group">
            <label for="timerDuration">Timer Duration:</label>
            <div class="timer-input">
              <input type="number" id="timerMinutes" min="0" max="60" value="2">
              <span>:</span>
              <input type="number" id="timerSeconds" min="0" max="59" value="0">
            </div>
          </div>
        </div>
        <button id="startGameBtn">Start Game</button>
      </div>

      <!-- Right Column - Card Inspector -->
      <div class="menu-column" id="cardInspector">
        <h2>Card Inspector</h2>
        <div class="card-preview">
          <div class="preview-placeholder">
            <p>Select a card to preview</p>
          </div>
          <!-- Comment out unused controls for now
          <div class="preview-navigation">
            <button class="nav-arrow" id="prevCard">◀</button>
            <span class="card-count">0/0</span>
            <button class="nav-arrow" id="nextCard">▶</button>
          </div>
          <button id="confirmCardBtn">Confirm Selection</button>
          -->
        </div>
      </div>
    </div>
  </div>

  <!-- Game board (initially hidden) -->
  <div id="gameBoard" style="display: none;">
    <!-- Instructions Overlay -->
    <div id="instructionsOverlay" class="overlay">
      <div class="overlay-content">
        <div class="overlay-header">
          <span class="close-overlay">&times;</span>
          <h2>Token Assignment</h2>
        </div>
        <div class="overlay-body">
          <div id="characterSetupContainer"></div>
          <div id="instructionsContainer">
            <!-- Instructions will be loaded here -->
          </div>
        </div>
        <div class="overlay-footer">
          <button id="startPlayBtn" disabled>PLAY!</button>
        </div>
      </div>
    </div>
    
    <!-- Menu -->
    <div id="menuIcon" class="icon">
      <img src="assets/PNG/menuIcon.png" alt="Menu" style="width:100%; height:100%; object-fit:contain;">
    </div>

    <!-- Player 1 Hand -->
    <div id="player1Hand" class="playerHand">
      <div class="tokenContainer">
        <input type="text" class="token" maxlength="1" data-attribute="rational" value="0" />
        <input type="text" class="token" maxlength="1" data-attribute="emotional" value="0" />
        <input type="text" class="token" maxlength="1" data-attribute="physical" value="0" />
      </div>
      <div class="charCard"></div>
      <div class="handCard"></div>
      <div class="handCard"></div>
      <div class="handCard"></div>
      <div class="handCard"></div>
      <div class="handCard"></div>
    </div>

    <!-- Player 2 Hand -->
    <div id="player2Hand" class="playerHand">
      <div class="tokenContainer">
        <input type="text" class="token" maxlength="1" data-attribute="rational" value="0" />
        <input type="text" class="token" maxlength="1" data-attribute="emotional" value="0" />
        <input type="text" class="token" maxlength="1" data-attribute="physical" value="0" />
      </div>
      <div class="charCard"></div>
      <div class="handCard"></div>
      <div class="handCard"></div>
      <div class="handCard"></div>
      <div class="handCard"></div>
      <div class="handCard"></div>
    </div>

    <!-- Game Management Buttons -->
    <div id="saveGameBtn" class="icon" style="top: 104px; left: 1504px; display: none;">Save Game</div>
    <div id="loadGameBtn" class="icon" style="top: 152px; left: 1504px; display: none;">Load Game</div>
    
    <!-- Settings -->
    <div id="settingsIcon" class="icon"></div>

    <!-- Objective Cards Button -->
    <div id="objectivesButton" class="icon">Show Objectives</div>
    
    <!-- Random Objective Button -->
    <div id="randomObjectiveButton" class="icon">Random Objective</div>

    <!-- Complete Game Button -->
    <div id="completeGameBtn" class="icon">Complete Game</div>

    <!-- Main Game Area -->
    <div id="inspector"></div>
    <div id="storyGrid"></div>
    <div id="mutableColumn">
      <div class="mutableSlot"></div>
      <div class="mutableSlot"></div>
      <div class="mutableSlot"></div>
      <div class="mutableSlot"></div>
    </div>
    
    <!-- Main Deck Labels and Controls -->
    <div class="deck-label" id="mainDeckLabel">Deck</div>
    <div class="deck-label" id="mainDiscardLabel">Discard</div>
    <div id="mainDeck"></div>
    <div id="mainDiscard"></div>
    <div class="deck-control-buttons" id="mainDeckControls">
      <button class="deck-button draw-button" id="mainDeckDraw">DRAW</button>
      <button class="deck-button shuffle-button" id="mainDeckShuffle">SHUFFLE</button>
    </div>
    
    <!-- D20 Area -->
    <div id="d20Area">
      <div class="roll-number">20</div>
    </div>
    
    <!-- Alt Deck Controls and Labels -->
    <div class="deck-control-buttons" id="altDeckControls">
      <button class="deck-button draw-button" id="altDeckDraw">DRAW</button>
      <button class="deck-button shuffle-button" id="altDeckShuffle">SHUFFLE</button>
    </div>
    <div id="altDeck"></div>
    <div id="altDiscard"></div>
    <div class="deck-label" id="altDeckLabel">Alt</div>
    <div class="deck-label" id="altDiscardLabel">Discard</div>
    
    <!-- Player 3 Hand -->
    <div id="player3Hand" class="playerHand">
      <div class="tokenContainer">
        <input type="text" class="token" maxlength="1" data-attribute="rational" value="0" />
        <input type="text" class="token" maxlength="1" data-attribute="emotional" value="0" />
        <input type="text" class="token" maxlength="1" data-attribute="physical" value="0" />
      </div>
      <div class="charCard"></div>
      <div class="handCard"></div>
      <div class="handCard"></div>
      <div class="handCard"></div>
      <div class="handCard"></div>
      <div class="handCard"></div>
    </div>

    <!-- Player 4 Hand -->
    <div id="player4Hand" class="playerHand">
      <div class="tokenContainer">
        <input type="text" class="token" maxlength="1" data-attribute="rational" value="0" />
        <input type="text" class="token" maxlength="1" data-attribute="emotional" value="0" />
        <input type="text" class="token" maxlength="1" data-attribute="physical" value="0" />
      </div>
      <div class="charCard"></div>
      <div class="handCard"></div>
      <div class="handCard"></div>
      <div class="handCard"></div>
      <div class="handCard"></div>
      <div class="handCard"></div>
    </div>

    <!-- Logo and Timer -->
    <!-- <div id="logo"></div> -->
    <div id="turnTimer">
      <div class="timer-display">5:00</div>
      <div class="timer-controls">
        <button id="toggleBtn">Start</button>
        <button id="resetBtn">Reset</button>
      </div>
      <div class="timer-duration">
        <input type="number" id="timerMinutes" min="0" max="60" value="2">
        <span>:</span>
        <input type="number" id="timerSeconds" min="0" max="59" value="0">
        <button id="setDurationBtn">Set</button>
      </div>
    </div>
  </div>

  <!-- End Game Overlay -->
  <div id="endGameOverlay">
    <div id="endGameCharacters"></div>
    <div id="superlativeContainer"></div>
    <button id="newGameBtn">Reset Game</button>
  </div>

  <!-- Confirmation Dialog -->
  <div id="confirmationDialog">
    <div class="dialog-header">Complete Game</div>
    <div class="dialog-message">This will clear the game board. Are you sure?</div>
    <div class="dialog-buttons">
      <button class="dialog-button dialog-confirm" id="confirmEndGame">Yes, End Game</button>
      <button class="dialog-button dialog-cancel" id="cancelEndGame">Cancel</button>
    </div>
  </div>

  <div class="fullscreen-instructions">
    Press <kbd>⌘F</kbd> (Mac) or <kbd>Ctrl+F</kbd> (Windows) for fullscreen • <kbd>Esc</kbd> to exit
  </div>

  <script src="timer.js"></script>
  <script src="script.js"></script>
</body>
</html>